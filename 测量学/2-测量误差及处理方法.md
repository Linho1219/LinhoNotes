# 2 测量误差与处理方法

## 概念

- 测量误差的来源：仪器、人、外界环境
- 系统误差
  - 规律性：按特定规律变化
  - 方向性：符号基本相同
  - 累积性：通常与测量量成正比
  - 可以被改正
- 偶然误差
  - 有界性：绝对值不会超过一定阈值
  - 趋向性：大误差概率小，小误差概率大
  - 对称性：正负误差频率大致相等
  - 抵偿性：观测次数无限增大时理论平均值趋于零
- 粗差：偏离较大的错误值，应舍弃

## 精度的评定

- 真值：客观存在的值，例如一段距离或角度
  - 通常不可知
  - 部分条件下可知（例如三角形内角和）
- 真误差：真值 $-$ 测量值，即 $\varDelta_i=X-x_i$
  - 准确度：测量值与真值的差距（不常用，因为真值通常不可知）
- 精度：测量结果的稳定性
- 等精度观测：观测条件基本相同的观测

### 已知真值 $X$

定义中误差（字样标准差）$m$：

$$
m=\pm\sqrt{
\sum(X-x_i)^2 \over n
}
$$

定义相对中误差为 $\dfrac m{x_真}$。

通常以 2 至 3 倍中误差作为允许的误差极限，成为**允许误差**或**允差**，即 $\varDelta_允=2m$。

### 未知真值

未知真值条件下用算术平均值 $\bar x=\sum x_i/n$ 作为该量的**最可靠值**，也称**最或然值**，用于替代真值。

由于真值未知，误差也未知。因此定义**改正值** $v_i=\bar x-x_i$ 替代误差值。

> [!tip]
>
> 误差和改正值都是真值（最或然值）减去测量值，顺序不要反。
>
> 记忆技巧：**测量值改正后变成最或然值**，因此 $x_i+v_i=\bar x$。

使用算术平均值计算中误差，分母从 $n$ 变为 $n-1$：

$$
m=\pm\sqrt{
(\bar x-x_i)^2\over n-1
}
$$

> [!warning]
>
> 中误差的注意事项：
>
> - 正负号 $\pm$ 不要丢
> - 记得开根号
> - 中误差量纲与测量量一致，有效位数也保留到一致

## 误差传播公式

对于一般多元函数 $Z=f(x_1,x_2,\cdots,x_n)$，有

$$
m_Z=\pm\sqrt{
\left(\partial f\over\partial x_1 \right)^2m_1^2
+\left(\partial f\over\partial x_2 \right)^2m_2^2
+\cdots
+\left(\partial f\over\partial x_n \right)^2m_n^2
}
$$

即

$$
m_Z=\pm\sqrt{\sum_i
\left(\partial f\over\partial x_i \right)^2m_i^2
}
$$

> [!warning]
>
> - 根号里面每项都要平方
> - 整体开方
> - 外面正负号 $\pm$ 不要丢

推论：算术平均值的中误差

$$
m_{\bar x}=\pm \frac m{\sqrt n}=\pm\sqrt{(\bar x-x_i)^2\over n(n-1)}
$$

## 加权平均值及其中误差

对于不等经度观测，需要使用加权平均。定义**权** $P$

$$
P_i\propto \frac1{m_i^2}
$$

定义**单位权中误差** $m_0$，使其对应的权为 $1$（即「单位权」），则有

$$
P_i=\frac{m_0^2}{m_i^2}
$$

定义了权后，有加权平均值：

$$
\bar x=\frac{\sum P_ix_i}{\sum P_i}
$$

有加权平均值的中误差：

$$
m_{\bar x}=\frac{m_0}{\sqrt{\sum P_i}}
$$

> [!tip]
>
> 算术平均值是加权平均值的特例，即 $P_i=1$，$\sum P_i=n$。算术平均值的公式在形式上也与加权平均值相符，即
>
> $$
> \begin{gathered}
> \bar x=\frac{\sum P_ix_i}{\sum P_i}=\frac{\sum x_i}{n} \\
> m_{\bar x}=\frac{m_0}{\sqrt{\sum P_i}}=\frac{m_0}{\sqrt n}
> \end{gathered}
> $$
